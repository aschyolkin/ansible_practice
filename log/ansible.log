2023-03-12 16:05:10,543 p=132442 u=vagrant n=ansible | PLAY [Ansible Practice playbook] **********************************************************************************************************
2023-03-12 16:05:10,599 p=132442 u=vagrant n=ansible | TASK [Gathering Facts] ********************************************************************************************************************
2023-03-12 16:05:12,463 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:05:12,487 p=132442 u=vagrant n=ansible | TASK [include_role : practice.main] *******************************************************************************************************
2023-03-12 16:05:12,530 p=132442 u=vagrant n=ansible | TASK [practice.main : Load App variables] *************************************************************************************************
2023-03-12 16:05:12,575 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:05:12,588 p=132442 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:05:12,620 p=132442 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/install_packages.yml for centos
2023-03-12 16:05:12,633 p=132442 u=vagrant n=ansible | TASK [practice.main : Install repos] ******************************************************************************************************
2023-03-12 16:05:44,795 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:05:44,815 p=132442 u=vagrant n=ansible | TASK [practice.main : Install Ruby and OS packages] ***************************************************************************************
2023-03-12 16:06:28,231 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:28,244 p=132442 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:06:28,281 p=132442 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/install_nginx.yml for centos
2023-03-12 16:06:28,301 p=132442 u=vagrant n=ansible | TASK [Install Nginx] **********************************************************************************************************************
2023-03-12 16:06:28,363 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Include OS-specific variables.] *********************************************************************************
2023-03-12 16:06:28,398 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:28,411 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Define nginx_user.] *********************************************************************************************
2023-03-12 16:06:28,453 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:28,470 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:06:28,509 p=132442 u=vagrant n=ansible | included: /home/vagrant/.ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml for centos
2023-03-12 16:06:28,541 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Enable nginx repo.] *********************************************************************************************
2023-03-12 16:06:28,575 p=132442 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:06:28,589 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx is installed.] *************************************************************************************
2023-03-12 16:06:29,593 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:29,605 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:06:29,633 p=132442 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:06:29,648 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:06:29,673 p=132442 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:06:29,685 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:06:29,709 p=132442 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:06:29,726 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:06:29,747 p=132442 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:06:29,763 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:06:29,782 p=132442 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:06:29,799 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ********************************************************
2023-03-12 16:06:29,845 p=132442 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:06:29,861 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] ********************************************************************************
2023-03-12 16:06:30,589 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:30,601 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Add managed vhost config files.] ********************************************************************************
2023-03-12 16:06:30,635 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove managed vhost config files.] *****************************************************************************
2023-03-12 16:06:30,672 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove legacy vhosts.conf file.] ********************************************************************************
2023-03-12 16:06:31,219 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:31,230 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Copy nginx configuration in place.] *****************************************************************************
2023-03-12 16:06:32,549 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:06:32,561 p=132442 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx service is running as configured.] *****************************************************************
2023-03-12 16:06:33,593 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:33,614 p=132442 u=vagrant n=ansible | TASK [practice.main : Replace Nginx config] ***********************************************************************************************
2023-03-12 16:06:34,648 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:06:34,659 p=132442 u=vagrant n=ansible | TASK [practice.main : Allow Web on firewall] **********************************************************************************************
2023-03-12 16:06:35,932 p=132442 u=vagrant n=ansible | ok: [centos] => (item=https)
2023-03-12 16:06:36,702 p=132442 u=vagrant n=ansible | ok: [centos] => (item=http)
2023-03-12 16:06:36,719 p=132442 u=vagrant n=ansible | TASK [practice.main : Allow HTTP in SElinux] **********************************************************************************************
2023-03-12 16:06:46,818 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:06:46,842 p=132442 u=vagrant n=ansible | TASK [practice.main : Start and enable Nginx] *********************************************************************************************
2023-03-12 16:06:47,788 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:06:47,801 p=132442 u=vagrant n=ansible | TASK [Install Postgres] *******************************************************************************************************************
2023-03-12 16:06:47,853 p=132442 u=vagrant n=ansible | TASK [postgres : Load variables] **********************************************************************************************************
2023-03-12 16:06:47,922 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:06:47,934 p=132442 u=vagrant n=ansible | TASK [postgres : Install Postgres packages] ***********************************************************************************************
2023-03-12 16:07:18,132 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:07:18,143 p=132442 u=vagrant n=ansible | TASK [postgres : Initialize PostgreSQL] ***************************************************************************************************
2023-03-12 16:07:18,721 p=132442 u=vagrant n=ansible | fatal: [centos]: FAILED! => {"changed": true, "cmd": "postgresql-setup initdb", "delta": "0:00:00.077558", "end": "2023-03-12 16:07:18.658211", "msg": "non-zero return code", "rc": 1, "start": "2023-03-12 16:07:18.580653", "stderr": "", "stderr_lines": [], "stdout": "Data directory is not empty!", "stdout_lines": ["Data directory is not empty!"]}
2023-03-12 16:07:18,722 p=132442 u=vagrant n=ansible | ...ignoring
2023-03-12 16:07:18,732 p=132442 u=vagrant n=ansible | TASK [postgres : Start and enable Postgres] ***********************************************************************************************
2023-03-12 16:07:21,531 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:07:21,544 p=132442 u=vagrant n=ansible | TASK [postgres : Create app database] *****************************************************************************************************
2023-03-12 16:07:22,275 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:07:22,291 p=132442 u=vagrant n=ansible | TASK [postgres : Create user for app] *****************************************************************************************************
2023-03-12 16:07:22,991 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:07:23,005 p=132442 u=vagrant n=ansible | TASK [postgres : Grant access] ************************************************************************************************************
2023-03-12 16:07:23,790 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:07:23,801 p=132442 u=vagrant n=ansible | TASK [postgres : Allow md5 connection] ****************************************************************************************************
2023-03-12 16:07:24,463 p=132442 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:07:24,485 p=132442 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:07:24,517 p=132442 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/deploy_app.yml for centos
2023-03-12 16:07:24,535 p=132442 u=vagrant n=ansible | TASK [practice.main : Stop service] *******************************************************************************************************
2023-03-12 16:07:25,195 p=132442 u=vagrant n=ansible | fatal: [centos]: FAILED! => {"changed": false, "msg": "Error loading unit file 'xpaste.service': org.freedesktop.DBus.Error.InconsistentMessage \"Bad message\""}
2023-03-12 16:07:25,195 p=132442 u=vagrant n=ansible | ...ignoring
2023-03-12 16:07:25,206 p=132442 u=vagrant n=ansible | TASK [practice.main : Delete Old version] *************************************************************************************************
2023-03-12 16:07:25,745 p=132442 u=vagrant n=ansible | changed: [centos] => (item=/opt/xpaste)
2023-03-12 16:07:26,261 p=132442 u=vagrant n=ansible | changed: [centos] => (item=/tmp/xpaste_practicum-master.tar.gz)
2023-03-12 16:07:26,735 p=132442 u=vagrant n=ansible | changed: [centos] => (item=/tmp/xpaste)
2023-03-12 16:07:26,751 p=132442 u=vagrant n=ansible | TASK [practice.main : Copy Application archive] *******************************************************************************************
2023-03-12 16:07:28,018 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:07:28,030 p=132442 u=vagrant n=ansible | TASK [practice.main : Extract Application] ************************************************************************************************
2023-03-12 16:07:28,547 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:07:28,558 p=132442 u=vagrant n=ansible | TASK [practice.main : Copy application env file] ******************************************************************************************
2023-03-12 16:07:29,823 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:07:29,836 p=132442 u=vagrant n=ansible | TASK [practice.main : Copy systemctl service file] ****************************************************************************************
2023-03-12 16:07:30,798 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:07:30,811 p=132442 u=vagrant n=ansible | TASK [practice.main : Configure Ruby packages] ********************************************************************************************
2023-03-12 16:07:34,335 p=132442 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:07:34,346 p=132442 u=vagrant n=ansible | TASK [practice.main : Start and enable systemd service] ***********************************************************************************
2023-03-12 16:07:34,980 p=132442 u=vagrant n=ansible | fatal: [centos]: FAILED! => {"changed": false, "msg": "Error loading unit file 'xpaste.service': org.freedesktop.DBus.Error.InconsistentMessage \"Bad message\""}
2023-03-12 16:07:34,982 p=132442 u=vagrant n=ansible | RUNNING HANDLER [geerlingguy.nginx : reload nginx] ****************************************************************************************
2023-03-12 16:07:34,987 p=132442 u=vagrant n=ansible | PLAY RECAP ********************************************************************************************************************************
2023-03-12 16:07:34,988 p=132442 u=vagrant n=ansible | centos                     : ok=34   changed=12   unreachable=0    failed=1    skipped=9    rescued=0    ignored=2   
2023-03-12 16:30:21,875 p=134010 u=vagrant n=ansible | PLAY [Ansible Practice playbook] **********************************************************************************************************
2023-03-12 16:30:21,926 p=134010 u=vagrant n=ansible | TASK [Gathering Facts] ********************************************************************************************************************
2023-03-12 16:30:23,878 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:30:23,897 p=134010 u=vagrant n=ansible | TASK [include_role : practice.main] *******************************************************************************************************
2023-03-12 16:30:23,940 p=134010 u=vagrant n=ansible | TASK [practice.main : Load App variables] *************************************************************************************************
2023-03-12 16:30:23,985 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:30:23,998 p=134010 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:30:24,028 p=134010 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/install_packages.yml for centos
2023-03-12 16:30:24,042 p=134010 u=vagrant n=ansible | TASK [practice.main : Install repos] ******************************************************************************************************
2023-03-12 16:30:56,801 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:30:56,814 p=134010 u=vagrant n=ansible | TASK [practice.main : Install Ruby and OS packages] ***************************************************************************************
2023-03-12 16:31:36,016 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:36,027 p=134010 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:31:36,061 p=134010 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/install_nginx.yml for centos
2023-03-12 16:31:36,073 p=134010 u=vagrant n=ansible | TASK [Install Nginx] **********************************************************************************************************************
2023-03-12 16:31:36,129 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Include OS-specific variables.] *********************************************************************************
2023-03-12 16:31:36,169 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:36,185 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Define nginx_user.] *********************************************************************************************
2023-03-12 16:31:36,226 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:36,238 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:31:36,275 p=134010 u=vagrant n=ansible | included: /home/vagrant/.ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml for centos
2023-03-12 16:31:36,300 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Enable nginx repo.] *********************************************************************************************
2023-03-12 16:31:36,335 p=134010 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:31:36,350 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx is installed.] *************************************************************************************
2023-03-12 16:31:37,085 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:37,098 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:31:37,120 p=134010 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:31:37,136 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:31:37,157 p=134010 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:31:37,169 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:31:37,192 p=134010 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:31:37,210 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:31:37,231 p=134010 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:31:37,257 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:31:37,277 p=134010 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:31:37,296 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ********************************************************
2023-03-12 16:31:37,332 p=134010 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:31:37,347 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] ********************************************************************************
2023-03-12 16:31:38,011 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:38,021 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Add managed vhost config files.] ********************************************************************************
2023-03-12 16:31:38,058 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove managed vhost config files.] *****************************************************************************
2023-03-12 16:31:38,100 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove legacy vhosts.conf file.] ********************************************************************************
2023-03-12 16:31:38,652 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:38,673 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Copy nginx configuration in place.] *****************************************************************************
2023-03-12 16:31:40,189 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:31:40,202 p=134010 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx service is running as configured.] *****************************************************************
2023-03-12 16:31:41,382 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:41,406 p=134010 u=vagrant n=ansible | TASK [practice.main : Replace Nginx config] ***********************************************************************************************
2023-03-12 16:31:42,452 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:31:42,466 p=134010 u=vagrant n=ansible | TASK [practice.main : Allow Web on firewall] **********************************************************************************************
2023-03-12 16:31:43,491 p=134010 u=vagrant n=ansible | ok: [centos] => (item=https)
2023-03-12 16:31:44,309 p=134010 u=vagrant n=ansible | ok: [centos] => (item=http)
2023-03-12 16:31:44,321 p=134010 u=vagrant n=ansible | TASK [practice.main : Allow HTTP in SElinux] **********************************************************************************************
2023-03-12 16:31:53,523 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:31:53,535 p=134010 u=vagrant n=ansible | TASK [practice.main : Start and enable Nginx] *********************************************************************************************
2023-03-12 16:31:54,455 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:31:54,469 p=134010 u=vagrant n=ansible | TASK [Install Postgres] *******************************************************************************************************************
2023-03-12 16:31:54,532 p=134010 u=vagrant n=ansible | TASK [postgres : Load variables] **********************************************************************************************************
2023-03-12 16:31:54,599 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:31:54,614 p=134010 u=vagrant n=ansible | TASK [postgres : Install Postgres packages] ***********************************************************************************************
2023-03-12 16:32:25,299 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:32:25,312 p=134010 u=vagrant n=ansible | TASK [postgres : Initialize PostgreSQL] ***************************************************************************************************
2023-03-12 16:32:25,884 p=134010 u=vagrant n=ansible | fatal: [centos]: FAILED! => {"changed": true, "cmd": "postgresql-setup initdb", "delta": "0:00:00.076017", "end": "2023-03-12 16:32:25.806319", "msg": "non-zero return code", "rc": 1, "start": "2023-03-12 16:32:25.730302", "stderr": "", "stderr_lines": [], "stdout": "Data directory is not empty!", "stdout_lines": ["Data directory is not empty!"]}
2023-03-12 16:32:25,884 p=134010 u=vagrant n=ansible | ...ignoring
2023-03-12 16:32:25,898 p=134010 u=vagrant n=ansible | TASK [postgres : Start and enable Postgres] ***********************************************************************************************
2023-03-12 16:32:28,722 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:32:28,735 p=134010 u=vagrant n=ansible | TASK [postgres : Create app database] *****************************************************************************************************
2023-03-12 16:32:29,478 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:32:29,492 p=134010 u=vagrant n=ansible | TASK [postgres : Create user for app] *****************************************************************************************************
2023-03-12 16:32:30,221 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:32:30,233 p=134010 u=vagrant n=ansible | TASK [postgres : Grant access] ************************************************************************************************************
2023-03-12 16:32:30,968 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:32:30,983 p=134010 u=vagrant n=ansible | TASK [postgres : Allow md5 connection] ****************************************************************************************************
2023-03-12 16:32:31,671 p=134010 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:32:31,698 p=134010 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:32:31,730 p=134010 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/deploy_app.yml for centos
2023-03-12 16:32:31,754 p=134010 u=vagrant n=ansible | TASK [practice.main : Stop service] *******************************************************************************************************
2023-03-12 16:32:32,432 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:32:32,442 p=134010 u=vagrant n=ansible | TASK [practice.main : Delete Old version] *************************************************************************************************
2023-03-12 16:32:33,142 p=134010 u=vagrant n=ansible | changed: [centos] => (item=/opt/xpaste)
2023-03-12 16:32:33,640 p=134010 u=vagrant n=ansible | changed: [centos] => (item=/tmp/xpaste_practicum-master.tar.gz)
2023-03-12 16:32:34,146 p=134010 u=vagrant n=ansible | changed: [centos] => (item=/tmp/xpaste)
2023-03-12 16:32:34,172 p=134010 u=vagrant n=ansible | TASK [practice.main : Copy Application archive] *******************************************************************************************
2023-03-12 16:32:35,483 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:32:35,495 p=134010 u=vagrant n=ansible | TASK [practice.main : Extract Application] ************************************************************************************************
2023-03-12 16:32:36,033 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:32:36,049 p=134010 u=vagrant n=ansible | TASK [practice.main : Copy application env file] ******************************************************************************************
2023-03-12 16:32:37,376 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:32:37,388 p=134010 u=vagrant n=ansible | TASK [practice.main : Copy systemctl service file] ****************************************************************************************
2023-03-12 16:32:38,381 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:32:38,391 p=134010 u=vagrant n=ansible | TASK [practice.main : Configure Ruby packages] ********************************************************************************************
2023-03-12 16:32:42,263 p=134010 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:32:42,277 p=134010 u=vagrant n=ansible | TASK [practice.main : Start and enable systemd service] ***********************************************************************************
2023-03-12 16:32:42,991 p=134010 u=vagrant n=ansible | fatal: [centos]: FAILED! => {"changed": false, "msg": "Error loading unit file 'xpaste.service': org.freedesktop.DBus.Error.InconsistentMessage \"Bad message\""}
2023-03-12 16:32:42,992 p=134010 u=vagrant n=ansible | RUNNING HANDLER [geerlingguy.nginx : reload nginx] ****************************************************************************************
2023-03-12 16:32:42,996 p=134010 u=vagrant n=ansible | PLAY RECAP ********************************************************************************************************************************
2023-03-12 16:32:42,996 p=134010 u=vagrant n=ansible | centos                     : ok=34   changed=13   unreachable=0    failed=1    skipped=9    rescued=0    ignored=1   
2023-03-12 16:33:28,784 p=134529 u=vagrant n=ansible | PLAY [Ansible Practice playbook] **********************************************************************************************************
2023-03-12 16:33:28,835 p=134529 u=vagrant n=ansible | TASK [Gathering Facts] ********************************************************************************************************************
2023-03-12 16:33:30,199 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:33:30,222 p=134529 u=vagrant n=ansible | TASK [include_role : practice.main] *******************************************************************************************************
2023-03-12 16:33:30,261 p=134529 u=vagrant n=ansible | TASK [practice.main : Load App variables] *************************************************************************************************
2023-03-12 16:33:30,302 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:33:30,315 p=134529 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:33:30,342 p=134529 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/install_packages.yml for centos
2023-03-12 16:33:30,356 p=134529 u=vagrant n=ansible | TASK [practice.main : Install repos] ******************************************************************************************************
2023-03-12 16:34:01,389 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:01,400 p=134529 u=vagrant n=ansible | TASK [practice.main : Install Ruby and OS packages] ***************************************************************************************
2023-03-12 16:34:42,347 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:42,357 p=134529 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:34:42,391 p=134529 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/install_nginx.yml for centos
2023-03-12 16:34:42,404 p=134529 u=vagrant n=ansible | TASK [Install Nginx] **********************************************************************************************************************
2023-03-12 16:34:42,465 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Include OS-specific variables.] *********************************************************************************
2023-03-12 16:34:42,502 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:42,518 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Define nginx_user.] *********************************************************************************************
2023-03-12 16:34:42,556 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:42,571 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:34:42,610 p=134529 u=vagrant n=ansible | included: /home/vagrant/.ansible/roles/geerlingguy.nginx/tasks/setup-RedHat.yml for centos
2023-03-12 16:34:42,634 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Enable nginx repo.] *********************************************************************************************
2023-03-12 16:34:42,666 p=134529 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:34:42,680 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx is installed.] *************************************************************************************
2023-03-12 16:34:43,455 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:43,470 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:34:43,491 p=134529 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:34:43,511 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:34:43,530 p=134529 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:34:43,541 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:34:43,562 p=134529 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:34:43,573 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:34:43,599 p=134529 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:34:43,613 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : include_tasks] **************************************************************************************************
2023-03-12 16:34:43,632 p=134529 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:34:43,650 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove default nginx vhost config file (if configured).] ********************************************************
2023-03-12 16:34:43,687 p=134529 u=vagrant n=ansible | skipping: [centos]
2023-03-12 16:34:43,703 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx_vhost_path exists.] ********************************************************************************
2023-03-12 16:34:44,441 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:44,454 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Add managed vhost config files.] ********************************************************************************
2023-03-12 16:34:44,487 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove managed vhost config files.] *****************************************************************************
2023-03-12 16:34:44,524 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Remove legacy vhosts.conf file.] ********************************************************************************
2023-03-12 16:34:45,063 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:45,076 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Copy nginx configuration in place.] *****************************************************************************
2023-03-12 16:34:46,362 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:34:46,378 p=134529 u=vagrant n=ansible | TASK [geerlingguy.nginx : Ensure nginx service is running as configured.] *****************************************************************
2023-03-12 16:34:47,359 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:47,381 p=134529 u=vagrant n=ansible | TASK [practice.main : Replace Nginx config] ***********************************************************************************************
2023-03-12 16:34:48,375 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:34:48,389 p=134529 u=vagrant n=ansible | TASK [practice.main : Allow Web on firewall] **********************************************************************************************
2023-03-12 16:34:49,246 p=134529 u=vagrant n=ansible | ok: [centos] => (item=https)
2023-03-12 16:34:49,901 p=134529 u=vagrant n=ansible | ok: [centos] => (item=http)
2023-03-12 16:34:49,917 p=134529 u=vagrant n=ansible | TASK [practice.main : Allow HTTP in SElinux] **********************************************************************************************
2023-03-12 16:34:58,496 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:34:58,509 p=134529 u=vagrant n=ansible | TASK [practice.main : Start and enable Nginx] *********************************************************************************************
2023-03-12 16:34:59,303 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:34:59,314 p=134529 u=vagrant n=ansible | TASK [Install Postgres] *******************************************************************************************************************
2023-03-12 16:34:59,365 p=134529 u=vagrant n=ansible | TASK [postgres : Load variables] **********************************************************************************************************
2023-03-12 16:34:59,410 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:34:59,421 p=134529 u=vagrant n=ansible | TASK [postgres : Install Postgres packages] ***********************************************************************************************
2023-03-12 16:35:30,805 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:35:30,820 p=134529 u=vagrant n=ansible | TASK [postgres : Initialize PostgreSQL] ***************************************************************************************************
2023-03-12 16:35:31,385 p=134529 u=vagrant n=ansible | fatal: [centos]: FAILED! => {"changed": true, "cmd": "postgresql-setup initdb", "delta": "0:00:00.059586", "end": "2023-03-12 16:35:31.312846", "msg": "non-zero return code", "rc": 1, "start": "2023-03-12 16:35:31.253260", "stderr": "", "stderr_lines": [], "stdout": "Data directory is not empty!", "stdout_lines": ["Data directory is not empty!"]}
2023-03-12 16:35:31,387 p=134529 u=vagrant n=ansible | ...ignoring
2023-03-12 16:35:31,401 p=134529 u=vagrant n=ansible | TASK [postgres : Start and enable Postgres] ***********************************************************************************************
2023-03-12 16:35:34,131 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:34,154 p=134529 u=vagrant n=ansible | TASK [postgres : Create app database] *****************************************************************************************************
2023-03-12 16:35:34,843 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:35:34,855 p=134529 u=vagrant n=ansible | TASK [postgres : Create user for app] *****************************************************************************************************
2023-03-12 16:35:35,568 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:35:35,582 p=134529 u=vagrant n=ansible | TASK [postgres : Grant access] ************************************************************************************************************
2023-03-12 16:35:36,261 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:35:36,277 p=134529 u=vagrant n=ansible | TASK [postgres : Allow md5 connection] ****************************************************************************************************
2023-03-12 16:35:36,955 p=134529 u=vagrant n=ansible | ok: [centos]
2023-03-12 16:35:36,982 p=134529 u=vagrant n=ansible | TASK [practice.main : include_tasks] ******************************************************************************************************
2023-03-12 16:35:37,017 p=134529 u=vagrant n=ansible | included: /home/vagrant/ansible_practice/roles/practice.main/tasks/deploy_app.yml for centos
2023-03-12 16:35:37,041 p=134529 u=vagrant n=ansible | TASK [practice.main : Stop service] *******************************************************************************************************
2023-03-12 16:35:37,716 p=134529 u=vagrant n=ansible | fatal: [centos]: FAILED! => {"changed": false, "msg": "Error loading unit file 'xpaste.service': org.freedesktop.DBus.Error.InconsistentMessage \"Bad message\""}
2023-03-12 16:35:37,716 p=134529 u=vagrant n=ansible | ...ignoring
2023-03-12 16:35:37,729 p=134529 u=vagrant n=ansible | TASK [practice.main : Delete Old version] *************************************************************************************************
2023-03-12 16:35:38,282 p=134529 u=vagrant n=ansible | changed: [centos] => (item=/opt/xpaste)
2023-03-12 16:35:38,781 p=134529 u=vagrant n=ansible | changed: [centos] => (item=/tmp/xpaste_practicum-master.tar.gz)
2023-03-12 16:35:39,287 p=134529 u=vagrant n=ansible | changed: [centos] => (item=/tmp/xpaste)
2023-03-12 16:35:39,300 p=134529 u=vagrant n=ansible | TASK [practice.main : Copy Application archive] *******************************************************************************************
2023-03-12 16:35:40,575 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:40,591 p=134529 u=vagrant n=ansible | TASK [practice.main : Extract Application] ************************************************************************************************
2023-03-12 16:35:41,130 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:41,143 p=134529 u=vagrant n=ansible | TASK [practice.main : Copy application env file] ******************************************************************************************
2023-03-12 16:35:42,379 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:42,397 p=134529 u=vagrant n=ansible | TASK [practice.main : Copy systemctl service file] ****************************************************************************************
2023-03-12 16:35:43,337 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:43,350 p=134529 u=vagrant n=ansible | TASK [practice.main : Configure Ruby packages] ********************************************************************************************
2023-03-12 16:35:46,827 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:46,840 p=134529 u=vagrant n=ansible | TASK [practice.main : Start and enable systemd service] ***********************************************************************************
2023-03-12 16:35:48,495 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:48,532 p=134529 u=vagrant n=ansible | RUNNING HANDLER [geerlingguy.nginx : reload nginx] ****************************************************************************************
2023-03-12 16:35:49,238 p=134529 u=vagrant n=ansible | changed: [centos]
2023-03-12 16:35:49,261 p=134529 u=vagrant n=ansible | PLAY RECAP ********************************************************************************************************************************
2023-03-12 16:35:49,261 p=134529 u=vagrant n=ansible | centos                     : ok=36   changed=14   unreachable=0    failed=0    skipped=9    rescued=0    ignored=2   
